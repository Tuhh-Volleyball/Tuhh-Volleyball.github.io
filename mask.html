<!doctype html>
<html lang="de">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interaktive Volleyball‚ÄëFigur ‚Äì Drop‚Äëin Widget</title>
  <style>
    :root {
      --accent: #ffc016;
      /* Spielfeld-Gr√ºn */
      --accent-2: #38b1c2;
      /* Beach-Sand */
      --fg: #13141a;
      --bg: rgba(255, 255, 255, .96);
      --shadow: 0 10px 30px rgba(0, 0, 0, .12), 0 2px 10px rgba(0, 0, 0, .08);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --fg: #eaeef7;
        --bg: rgba(19, 20, 26, .92);
      }
    }

    /* --- Container: unten rechts schwebend --- */
    #mascot-container {
      position: fixed;
      inset: auto 24px 24px auto;
      z-index: 9999;
      display: grid;
      place-items: center;
      width: 180px;
      height: 180px;
      pointer-events: none;
      /* Bubble klickbar lassen */
    }

    /* Click‚ÄëArea f√ºr Interaktionen */
    #mascot-hitbox {
      position: absolute;
      inset: 0;
      pointer-events: auto;
    }

    /* Karte/Badge hinter der Figur */
    #mascot-card {
      position: absolute;
      bottom: -8px;
      left: -8px;
      right: -8px;
      top: 28px;
      background: var(--bg);
      border: 1px solid rgba(0, 0, 0, .06);
      border-radius: 24px;
      box-shadow: var(--shadow);
      filter: drop-shadow(0 4px 16px rgba(0, 0, 0, .08));
      transition: transform .2s ease;
    }

    #mascot {
      width: 160px;
      height: 160px;
      position: relative;
      animation: bob 3.6s ease-in-out infinite;
    }

    @keyframes bob {

      0%,
      100% {
        transform: translateY(0)
      }

      50% {
        transform: translateY(-6px)
      }
    }

    /* Blick/Lidschlag */
    .pupil {
      transition: transform .06s linear;
    }

    .eyelid {
      animation: blink 5s infinite;
      transform-origin: center;
    }

    @keyframes blink {

      0%,
      97%,
      100% {
        transform: scaleY(1)
      }

      98% {
        transform: scaleY(.05)
      }

      99% {
        transform: scaleY(1)
      }
    }

    /* Winken bei Hover/Klick */
    .arm {
      transform-origin: 125px 70px;
    }

    #mascot-container:hover .arm {
      animation: wave .9s ease-in-out infinite;
    }

    @keyframes wave {

      0%,
      100% {
        transform: rotate(0)
      }

      50% {
        transform: rotate(-16deg)
      }
    }

    /* Sprechblase */
    #bubble {
      position: absolute;
      right: 180px;
      bottom: 90px;
      max-width: 280px;
      pointer-events: auto;
      background: var(--bg);
      color: var(--fg);
      border: 1px solid rgba(0, 0, 0, .06);
      padding: 12px 14px;
      border-radius: 14px;
      box-shadow: var(--shadow);
      opacity: 0;
      transform: translateY(6px) scale(.98);
      transition: all .18s ease;
      font: 500 14px/1.35 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }

    #bubble.visible {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    #bubble:after {
      content: "";
      position: absolute;
      right: -8px;
      bottom: 12px;
      width: 16px;
      height: 16px;
      background: var(--bg);
      border: 1px solid rgba(0, 0, 0, .06);
      border-left: none;
      border-bottom: none;
      transform: rotate(45deg);
      box-shadow: 8px -8px 0 var(--bg);
      /* Kanten kaschieren */
    }

    /* CTA/Buttonzeile (optional) */
    .toolbar {
      display: flex;
      gap: 8px;
      margin-top: 8px;
    }

    .btn {
      pointer-events: auto;
      user-select: none;
      border: 1px solid currentColor;
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 12px;
      cursor: pointer;
      opacity: .9
    }

    .btn:hover {
      opacity: 1
    }

    /* Bewegungsreduktion respektieren */
    @media (prefers-reduced-motion: reduce) {
      #mascot {
        animation: none
      }

      .eyelid {
        animation: none
      }

      #mascot-card {
        transition: none
      }
    }

    /* Volleyball-Ball Animation */
    #ball {
      transform-origin: 120px 70px;
      filter: drop-shadow(0 4px 8px rgba(0, 0, 0, .15));
    }

    .serve #ball {
      animation: serve 1s ease-in forwards;
    }

    @keyframes serve {
      0% {
        transform: translate(0, 0) rotate(0)
      }

      35% {
        transform: translate(-20px, -60px) rotate(-90deg)
      }

      60% {
        transform: translate(-40px, -120px) rotate(-200deg)
      }

      100% {
        transform: translate(-20px, -140px) rotate(-320deg)
      }
    }

    /* Mini-Netz Illustration (dezent) */
    #mini-net {
      opacity: .12
    }
  </style>
</head>

<body>
  <!--
    ‚úÖ So verwendest du das Widget:
    1) Kopiere alles in deine Seite (am besten direkt vor </body>).  
    2) Passe Farben oben in :root an.  
    3) Texte/Jokes unten im JS anpassen.
  -->

  <div id="mascot-container" aria-live="polite" aria-label="Webseiten-Assistent, humorvoll">
    <div id="mascot-card" aria-hidden="true"></div>

    <!-- Klickfl√§che f√ºr Interaktionen -->
    <div id="mascot-hitbox" title="Klick mich! Ich habe Spr√ºche auf Lager."></div>

    <!-- Sprechblase -->
    <div id="bubble" role="status">
      <div id="bubble-text">Baggern, Pritschen, Schmettern ‚Äî klick f√ºr einen Spruch üèê</div>
      <div class="toolbar">
        <button class="btn" id="btn-joke" aria-label="Noch einen Spruch">Noch einen</button>
        <button class="btn" id="btn-hide" aria-label="Blase schlie√üen">Schlie√üen</button>
      </div>
    </div>

    <!-- Die Figur: reines SVG, keine Assets n√∂tig -->
    <svg id="mascot" viewBox="0 0 160 160" aria-hidden="true">
      <!-- K√∂rper (angepasst von vectordoodle, skaliert auf 160√ó160) -->
      <g id="body" transform="translate(25,25) scale(2.4)">
        <defs>
          <style>
            .outline {
              stroke: #0b1324;
              stroke-width: 4;
              fill: none;
              stroke-linecap: round;
              stroke-linejoin: round;
            }

            .teal {
              stroke: #2ec4c7;
              stroke-width: 5;
              fill: none;
              stroke-linecap: round;
              stroke-linejoin: round;
            }

            .teal-outline {
              stroke: #0b1324;
              stroke-width: 6;
              fill: none;
              stroke-linecap: round;
              stroke-linejoin: round;
            }
          </style>
        </defs>

        <!-- aus deiner Vorlage -->
        <circle cx="24" cy="24" r="20" fill="#ffd166" stroke="#0b1324" stroke-width="4" />

        <path d="M8 28 C 18 18, 30 14, 40 8" class="teal-outline" />
        <path d="M8 28 C 18 18, 30 14, 40 8" class="teal" />

        <path d="M6 14 C 16 18, 30 28, 38 36" class="teal-outline" />
        <path d="M6 14 C 16 18, 30 28, 38 36" class="teal" />
      </g>



      <!-- Gesicht -->
      <g id="face">
        <!-- Augen Wei√ü -->
        <ellipse cx="60" cy="70" rx="16" ry="12" fill="#fff" />
        <ellipse cx="100" cy="70" rx="16" ry="12" fill="#fff" />
        <!-- Pupillen -->
        <circle id="pupil-left" class="pupil" cx="60" cy="70" r="5" fill="#1f2937" />
        <circle id="pupil-right" class="pupil" cx="100" cy="70" r="5" fill="#1f2937" />
        <!-- Lider -->
        <ellipse class="eyelid" cx="60" cy="70" rx="16" ry="12" fill="transparent" stroke="#1f293710"
          stroke-width="2" />
        <ellipse class="eyelid" cx="100" cy="70" rx="16" ry="12" fill="transparent" stroke="#1f293710"
          stroke-width="2" />
        <!-- Mund -->
        <path d="M55 92 C 70 110, 90 110, 105 92" fill="none" stroke="#0b1324" stroke-width="4"
          stroke-linecap="round" />
      </g>

      <!-- Arm zum Winken -->
      <g class="arm">
        <path d="M120 70 q18 -10 18 8 q0 16 -10 22" fill="none" stroke="#ffffff" stroke-width="10"
          stroke-linecap="round" />
      </g>

      <!-- Volleyball (links an der Hand) -->
      <g id="ball" transform="translate(-60,50) scale(0.35)">
        <path
          d="M97.83 94.32l-23.68 17.09l-32.93 1.25l-11.61 1.73s6.43 3.92 12.7 6.27c6.27 2.35 11.92 1.57 11.92 1.57s4.23 2.2 16.78 1.25c12.55-.94 18.04-5.8 18.04-5.8l1.57.78s4.39-.94 9.57-4.55c5.18-3.61 15.74-13.78 19.92-25.25c4.56-12.54 4.55-24.62 3.29-33.09c-.1-.66-.03-2.89-.38-2.92c-4.16-.4-24.76 41.38-25.19 41.67z"
          fill="#c5b3af"></path>
        <path
          d="M33.84 15.9l-14.59 7.84l-4.23 4.7l-9.1 19.6s-.63 1.25-.63 2.67v3.61s-1.01 11.65-1.4 13.34c-.47 2.04-.47 4.23.47 5.96c.94 1.73 7.37 16.94 7.37 16.94l6.12 12.08s2.35 3.76 5.33 6.74s8.31 5.02 8.31 5.02s3.05 2.15 8 2.2c4.18.04 7.47-1.16 7.47-1.16s4.9 3.49 14.76 3.36c12.22-.16 12.9-3.93 12.9-3.93s7.18 1.27 17.53-5.48c10.35-6.74 15.72-19.93 15.72-19.93s4.55-1.57 7.53-7.68s8-21.17 8-26.19c0-3.53-1-10.57-4.57-18.14c-1.35-2.86-3.02-5.1-5-7.42c-1.47-1.72-3.9-4.49-3.9-4.49s-2.06-3.51-3.16-4.77s-4.55-3.92-4.55-3.92l-16.78-9.1s-4.23-2.35-6.59-2.98C76.5 4.14 33.84 15.9 33.84 15.9z"
          fill="#d8cdc9"></path>
        <path
          d="M99.4 31.43c-3.81 1.61-12.89 6.42-12.57 13.48s3.48 8.95 4.73 23.53c1.25 14.59-1.41 23.68-.47 24.94c.94 1.25 7.71-1.32 11.9-7.09c3.92-5.41 6.77-16.9 6.77-16.9s4.7-1.57 8.64-8.93c3.04-5.69 3.81-9.78 3.63-13.65c-.12-2.66-3.06-11.82-7.46-15.61c-3.75-3.22-10.71-1.65-15.17.23z"
          fill="#f2eeec"></path>
        <path
          d="M5.93 48.06s11.76 5.33 27.92 9.25s32.78 6.9 36.23 7.53c3.45.63 5.96-.63 6.74-2.35c.78-1.73.91-11.37-1.72-14.83c-1.82-2.4-5.74-5.5-5.74-5.5l-28.31-5.08l-24.62-7.21l-1.41-1.41s-3.76 3.61-6.12 8.47s-2.97 11.13-2.97 11.13z"
          fill="#f1edec"></path>
        <path
          d="M5.26 54.32c.86.64 34.67 10.14 34.67 10.14s38.52 6.68 38.52 7.45c0 .77-1.67 10.02-6.04 12.71c-4.37 2.7-25.98.54-33.51-1.03C17.33 79.11 3.85 68.58 3.85 68.58s-.9-3.47-.39-8.22c.27-2.46 1.8-6.04 1.8-6.04z"
          fill="#f1edec"></path>
        <path
          d="M6.03 76.28l13.23 8.09l27.09 7.06l29.28.26s1.8 2.44 1.41 4.24c-.39 1.8-2.57 7.83-8.73 10.4c-5.59 2.33-25.03 4.77-40.96-1.03c-14.12-5.14-16.82-12.46-19.39-18.23c-2.64-5.94-1.93-10.79-1.93-10.79z"
          fill="#f1edec"></path>
        <path
          d="M53.25 29.74l12.76-12.91l18.02-7.81s4.65.15 5.86.45s4.35 1.2 9.01 4.05s7.87 7.24 7.87 7.24s-4.87-4.39-18.38 2.52s-13.67 10.66-16.22 11.26c-2.55.6-7.92.15-11.71-.75c-6.31-1.5-7.21-4.05-7.21-4.05z"
          fill="#f1edec"></path>
        <path
          d="M20.7 23.53s1.63 2.07 6.21 3.16c4.57 1.09 9.04.22 9.04.22s1.31 1.63 5.45 2.5c4.14.87 5.77-.11 6.64-1.2c.87-1.09 7.08-10.78 16.01-16.23s17.04-6.44 17.04-6.44s-5.26-2.62-12.77-2.19s-13.86 2.87-13.86 2.87l-3.59.33s-5.55-.65-12.42 2.29s-14.27 9.69-14.27 9.69l-3.48 5z"
          fill="#f1edec"></path>
        <path
          d="M66.85 41.32s6.68-1.89 9.36-3.29c2.68-1.4 11.48-5.87 11.48-5.87s-3.44 6.13-3.7 9.82c-.28 4 .67 12.12.67 12.12l-1.91-1.08s-4.67-4.45-6.45-5.86s-9.45-5.84-9.45-5.84z"
          fill="#c5b3af"></path>
        <path
          d="M86.49 74.5c-.21-.02-21.01-1.85-55.79-10.38c-20.37-5-25.62-8.34-25.95-8.55c0 0 .26-.59.4-1.86c.13-1.27.15-2.56.15-2.56c.08.05 6.79 4.19 26.38 8.99c34.44 8.45 54.96 10.26 55.16 10.28l-.35 4.08z"
          fill="#9b8d8b"></path>
        <path
          d="M61.73 94.28c-10.17 0-22.67-1.24-35.76-5.46C13.24 84.72 6.5 79.75 6 79.4c0 0 .11-.94-.25-2.39c-.36-1.45-1.24-3.16-1.24-3.16c.12.08 10.58 7.15 22.72 11.06c29.9 9.64 57.46 2.94 57.73 2.87l1 3.98c-.68.18-10.26 2.52-24.23 2.52z"
          fill="#9b8d8b"></path>
        <path
          d="M79.75 115.58c-3.27-1.87-5.8-4.61-5.83-4.64l-.62-.67l-.91.12c-.15.02-15.38 1.98-36.79-3.91c-10.21-2.81-19.12-7.4-20.84-8.58c0 0 .72 3.96 3.59 5.47a86.63 86.63 0 0 0 7.92 3.64c.23.85.99 3.56 2.46 6.12c2.28 3.96 8.08 5.15 8.08 5.15c-.03-.04-3.44-4.32-4.85-7.37c-.36-.79-.62-1.49-.82-2.11c1.16.38 2.33.74 3.51 1.07c2.36.65 4.64 1.2 6.83 1.68c.8 1.55 2.46 4.36 5.23 7.1c1.14 1.13 2.71 2.58 4.53 3.37c4.07 1.76 7.74 1.36 7.74 1.36c-.06-.05-5.59-3.58-8.54-6.51c-1.11-1.1-2.92-3.29-3.64-4.3c13.09 2.26 22.32 1.66 25.15 1.38c1.04 1.03 3.28 3.08 6.04 4.66c1.61.92 3.06 1.75 4.66 2.1c3.18.69 5.29-1.58 5.29-1.58c-.02-.02-4.58-1.5-8.19-3.55z"
          fill="#9b8d8b"></path>
        <path
          d="M73.8 113.75l-2.33-3.25l1.16 1.63l-1.17-1.62c.12-.09 12.24-9.19 13.33-33.16c1.08-23.98-8.09-33.19-8.19-33.28l2.76-2.89c.43.41 10.6 10.36 9.42 36.36c-1.17 26.03-14.41 35.8-14.98 36.21z"
          fill="#9b8d8b"></path>
        <path
          d="M84.22 120.83l-1.36-3.43c.79-.13 20.28-3.84 24.57-39.48c3.29-27.33-12.39-49.99-12.55-50.21l3.27-2.31c.68.97 16.74 24.09 13.25 53c-4.68 38.85-26.18 42.46-27.18 42.43z"
          fill="#9b8d8b"></path>
        <path
          d="M94.47 25.4c-9.4 3.66-15.57 12.05-17.56 15.08c-3.41-.26-13.69-1.18-25.77-3.56c2.28-4.06 7.95-12.95 16.74-18.76c11.68-7.71 21.47-8.73 21.7-8.79s-2.9-3.06-5.76-2.47c-5.12 1.06-11.71 3.69-18.14 7.93C55.2 21.76 49 32.36 47.05 36.08c-2.93-.64-5.93-1.37-8.94-2.19c-.95-.26-1.87-.52-2.77-.77c1.41-3.49 4.55-10.58 8.43-15.35C51.39 8.43 60.43 4.53 60.53 4.49c0 0-5.79-1.63-10.85 2.07c-2.92 2.14-6.05 5.06-9 8.68c-4.4 5.4-7.8 13.23-9.2 16.77c-4.36-1.27-7.9-2.36-10.7-3.28c.75-1.7 1.81-3.97 2.95-5.95c2.11-3.69 4.42-7.34 4.44-7.37c0 0-5.15 1.81-8.11 6.69c-1.35 2.21-1.82 3.72-2.61 5.53c-.48-.16-.87-.35-1.31-.32c-2.37.13-3.26 3.59-3.26 3.59c.29.13 4.79 1.62 24.16 6.95c20.38 5.6 40.65 6.82 40.85 6.83l1.26.07l.63-1.09c.06-.1 6.22-10.54 16.19-14.42c8.4-3.27 15.4-1.99 15.47-1.98c0 0-.26-.99-.92-2.08c-.49-.8-1.88-1.61-1.88-1.61c-.33-.09-4.49-1.93-14.17 1.83z"
          fill="#9b8d8b"></path>
      </g>

      <!-- Schimmer -->
      <ellipse cx="58" cy="46" rx="10" ry="6" fill="#fff" opacity=".7" />
    </svg>
  </div>

  <script>
    // --- Utilities ---
    const $ = (sel, parent = document) => parent.querySelector(sel);
    const bubble = $('#bubble');
    const bubbleText = $('#bubble-text');
    const hitbox = $('#mascot-hitbox');
    const btnJoke = $('#btn-joke');
    const btnHide = $('#btn-hide');
    const pL = $('#pupil-left');
    const pR = $('#pupil-right');
    const container = $('#mascot-container');
    const ball = document.getElementById('ball');

    const JOKES = [
      "Kein Aus! Ich bin immer im Spiel ‚Äî au√üer du klickst auf Schlie√üen.",
      "Ich baggere keine Daten ‚Äî nur B√§lle.",
      "Unsere Taktik: erst pritschen, dann pitchen.",
      "Schmetterling? Nein, Schmetter-BALL!",
      "Timeout? Nur wenn der Kaffee alle ist.",
      "Service-W√ºste? Nicht hier: Ich serviere Spr√ºche am laufenden Band.",
      "Block? Gern ‚Äî gegen Bugs.",
      "Pro Tipp: Dr√ºck ‚ÄòV‚Äô f√ºr einen Aufschlag!",
    ];

    let lastJoke = -1;
    function nextJoke() {
      let i; do { i = Math.floor(Math.random() * JOKES.length) } while (i === lastJoke);
      lastJoke = i; return JOKES[i];
    }

    function showBubble(text) {
      bubbleText.textContent = text || nextJoke();
      bubble.classList.add('visible');
      clearTimeout(showBubble._t);
      showBubble._t = setTimeout(() => bubble.classList.remove('visible'), 4800);
    }

    // Klick-Interaktionen
    hitbox.addEventListener('click', () => {
      showBubble();
      container.querySelector('#mascot-card').style.transform = 'translateY(-2px)';
      setTimeout(() => container.querySelector('#mascot-card').style.transform = '', 120);
      triggerServe();
    });
    btnJoke.addEventListener('click', e => { e.stopPropagation(); showBubble(); triggerServe(); });
    btnHide.addEventListener('click', e => { e.stopPropagation(); bubble.classList.remove('visible'); });

    // Tastatur: H = Hilfe, J = Witz, B = Blase toggeln
    window.addEventListener('keydown', (e) => {
      const k = e.key.toLowerCase();
      if (k === 'h') { showBubble('Shortcuts: H = Hilfe, J = Witz, B = Blase, V = Volley-Aufschlag'); }
      if (k === 'j') { showBubble(); triggerServe(); }
      if (k === 'b') { bubble.classList.toggle('visible'); }
      if (k === 'v') { triggerServe(); showBubble('Aufschlag! üèê'); }
    });

    // Pupillen folgen Maus (sanft innerhalb des Augenrahmens)
    document.addEventListener('mousemove', (e) => {
      const rect = container.getBoundingClientRect();
      const cx = rect.left + rect.width / 2; const cy = rect.top + rect.height / 2;
      const dx = (e.clientX - cx) / rect.width; // normiert ca. -0.5 .. 0.5
      const dy = (e.clientY - cy) / rect.height;
      const max = 4; // maximale Pupillen‚ÄëVerschiebung in px
      const tx = Math.max(-1, Math.min(1, dx)) * max;
      const ty = Math.max(-1, Math.min(1, dy)) * max;
      pL.style.transform = `translate(${tx}px, ${ty}px)`;
      pR.style.transform = `translate(${tx}px, ${ty}px)`;
    });

    // Extern steuerbar: window.Mascot.say('Text')
    window.Mascot = {
      say(text) { showBubble(text); },
      hide() { bubble.classList.remove('visible'); },
      setColors(a, b) { document.documentElement.style.setProperty('--accent', a); document.documentElement.style.setProperty('--accent-2', b || a); }
    };

    // Serve-Animation
    function triggerServe() {
      if (!ball) return;
      ball.classList.remove('serve');
      void ball.offsetWidth; // reflow
      ball.classList.add('serve');
      setTimeout(() => ball.classList.remove('serve'), 1100);
    }

    // Erste Begr√º√üung verz√∂gert anzeigen
    setTimeout(() => showBubble('Willkommen! Baggern, Pritschen, Schmettern ‚Äî klick f√ºr einen Spruch üèê'), 800);
  </script>
</body>

</html>